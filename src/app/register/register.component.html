<div class="signinout-form">
  <h2>Register</h2>
  <p class="hint-text">Veuillez vous inscrire, c'est gratuit!</p>
  <form *ngIf="!isSuccessful" name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate>
    <div class="form-group">
      <label for="username">Username</label>
      <input type="text" placeholder="Asterix" class="form-control" name="username" [(ngModel)]="form.username" required minlength="3" maxlength="20"
      #username="ngModel"/>
      <div class="alert-danger" *ngIf="username.errors && f.submitted">
        <div *ngIf="username.errors['required']">Veuillez renseigner votre nom d'utilisateur</div>
        <div *ngIf="username.errors['minlength']">
          Le nom d'utilisateur doit contenir au moins 3 caractères
        </div>
        <div *ngIf="username.errors['maxlength']">
          Le nom d'utilisateur doit contenir au maximum 20 caractères
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="email">Email</label>
      <input type="email"placeholder="name@example.com" class="form-control" name="email" [(ngModel)]="form.email" required email #email="ngModel"/>
      <div class="alert-danger" *ngIf="email.errors && f.submitted">
        <div *ngIf="email.errors['required']">Email obligatoire!</div>
        <div *ngIf="email.errors['email']">
          Veuillez renseigner une adresse mail valide
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="password">Password</label>
      <input type="password" placeholder="Votre mot de passe" class="form-control" name="password" [(ngModel)]="form.password" required minlength="6" #password="ngModel"/>
      <div class="alert-danger" *ngIf="password.errors && f.submitted">
        <div *ngIf="password.errors['required']">Mot de passe obligatoire!</div>
        <div *ngIf="password.errors['minlength']">
          Le mot de passe doit contenir au moins 6 caractères
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="dateOfBirth">Date de naissance</label>
      <input type="date" class="form-control" name="dateOfBirth" [(ngModel)]="form.dateOfBirth" placeholder="MM/DD/YYYY" />
      <!-- <div class="alert-danger" *ngIf="dateOfBirth.errors && f.submitted"> -->
      <!-- <div *ngIf="dateOfBirth.errors['required']">Date de naissance obligatoire!</div> -->
    </div>

    <div class="form-group">
      <button class="btn btn-primary btn-block">Sign Up</button>
    </div>

    <div class="alert alert-warning" *ngIf="f.submitted && isSignUpFailed">
      Echec d'inscription!<br />{{ errorMessage }}
    </div>
  </form>

  <div class="alert alert-success" *ngIf="isSuccessful">
    Merci pour votre inscription, vous pouvez authentifier
  </div>
  <div class="text-center">Vous avez déjà un compte? <a href="/login" routerLink="login">Sign in</a></div>
</div>

